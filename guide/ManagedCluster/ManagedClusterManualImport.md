# Import cluster manually with CLI tool

# Instructions

Complete the following steps on the hub cluster:
1. Create the ManagedCluster on your hub cluster by running the following command if it does not exist.
```
cat << EOF | oc apply -f -
apiVersion: cluster.open-cluster-management.io/v1
kind: ManagedCluster
metadata:
  name: <cluster_name>
  labels:
    cloud: auto-detect
    vendor: auto-detect
spec:
  hubAcceptsClient: true
EOF
```
Replace `<cluster_name>` with the real cluster name.

2. Obtain the klusterlet-crd.yaml file that was generated by the import controller on your hub cluster by running the following command:
```
oc get secret <cluster_name>-import -n <cluster_name> -o jsonpath={.data.crds\\.yaml} | base64 --decode > klusterlet-crd.yaml
```
3. Obtain the import.yaml file that was generated by the import controller on your hub cluster by running the following command:
```
oc get secret <cluster_name>-import -n <cluster_name> -o jsonpath={.data.import\\.yaml} | base64 --decode > import.yaml
```
Proceed with the following steps on the cluster that you are importing:
4. Apply the klusterlet-crd.yaml that you generated in step 1 by running the following command:
```
oc apply -f klusterlet-crd.yaml
```
5. Apply the import.yaml file that you previously generated by running the following command:
```
oc apply -f import.yaml
```

# Verification
You can validate the JOINED and AVAILABLE status for the managed cluster that you are importing by running the following command from the hub cluster:

oc get managedcluster <cluster_name>